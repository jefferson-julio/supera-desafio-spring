(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3627:function(e,a,t){Promise.resolve().then(t.bind(t,6684))},6684:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return j}});var n=t(9268),r=t(1305),s=t.n(r),i=t(5326),l=t.n(i);function c(e){let{onPageChange:a,pageable:t}=e;return(0,n.jsxs)("ul",{className:s().row,style:{gap:4},children:[!t.first&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsx)("button",{"data-cy":"first-page",onClick:()=>a(t.number-1,t.size),children:"<"})}),(0,n.jsx)("li",{children:(0,n.jsx)("button",{"data-cy":"prev-page",onClick:()=>a(0,t.size),children:"<<"})})]}),Array.from({length:t.totalPages},(e,a)=>a+1).map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{"data-cy":"page-number",disabled:t.number==e-1,onClick:()=>a(e-1,t.size),children:e})},e)),!t.last&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsx)("button",{"data-cy":"next-page",onClick:()=>a(t.number+1,t.size),children:">"})}),(0,n.jsx)("li",{children:(0,n.jsx)("button",{"data-cy":"last-page",onClick:()=>a(t.totalPages-1,t.size),children:">>"})})]}),(0,n.jsx)("li",{children:(0,n.jsxs)("select",{"data-cy":"page-size",defaultValue:"5",onChange:e=>a(t.number,parseInt(e.target.value,10)),children:[(0,n.jsx)("option",{value:"5",children:"5"}),(0,n.jsx)("option",{value:"10",children:"10"}),(0,n.jsx)("option",{value:"15",children:"15"}),(0,n.jsx)("option",{value:"30",children:"30"})]})})]})}let d=e=>"R$ ".concat(String(e.toFixed(2)).replace(".",","));function o(e){let{onPageChange:a,balance:t,data:r}=e;return r?(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{"data-cy":"balance",className:s().row,children:[(0,n.jsxs)("p",{children:["Saldo total: ",d(t.saldoTotal)]}),(0,n.jsxs)("p",{children:["Saldo no per\xedodo: ",d(t.saldoPeriodo)]})]}),(0,n.jsx)("hr",{})]}),(0,n.jsx)("div",{className:s().resultsTable,children:(0,n.jsxs)("table",{className:[s().table,s().verticalSpace].join(" "),children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Dados"}),(0,n.jsx)("th",{children:"Val\xeancia"}),(0,n.jsx)("th",{children:"Tipo"}),(0,n.jsx)("th",{children:"Nome do operador transacionado"})]})}),(0,n.jsx)("tbody",{children:r.content.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:l()(e.dataTransferencia).format("DD/MM/yyyy")}),(0,n.jsx)("td",{children:d(e.valor)}),(0,n.jsx)("td",{children:e.tipo}),(0,n.jsx)("td",{style:{textAlign:e.nomeOperadorTransacao?"left":"center"},children:e.nomeOperadorTransacao||"-"})]},e.id))})]})}),(0,n.jsx)("hr",{className:s().verticalSpace}),(0,n.jsx)("div",{className:s().verticalSpace,children:(0,n.jsx)(c,{onPageChange:a,pageable:r})})]}):(0,n.jsx)("div",{children:"Realize uma pesquisa!"})}var u=t(6006);function h(e){let{onSubmit:a}=e,[t,r]=(0,u.useState)({date_start:"",date_end:"",op_name:""}),i=e=>{r({...t,[e.target.name]:e.target.value})};return(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a({...t})},children:[(0,n.jsxs)("div",{className:s().row,children:[(0,n.jsxs)("div",{className:s().inputBox,children:[(0,n.jsx)("label",{htmlFor:"date_start",children:"Data de in\xedcio"}),(0,n.jsx)("input",{id:"date_start",name:"date_start",type:"date",value:t.date_start,onChange:i})]}),(0,n.jsxs)("div",{className:s().inputBox,children:[(0,n.jsx)("label",{htmlFor:"date_end",children:"Data de fim"}),(0,n.jsx)("input",{id:"date_end",name:"date_end",type:"date",value:t.date_end,onChange:i})]}),(0,n.jsxs)("div",{className:s().inputBox,children:[(0,n.jsx)("label",{htmlFor:"op_name",children:"Nome operador transacionado"}),(0,n.jsx)("input",{id:"op_name",name:"op_name",type:"text",value:t.op_name,onChange:i})]})]}),(0,n.jsx)("div",{className:s().verticalSpace,children:(0,n.jsx)("button",{className:s().formSubmitButton,type:"submit",children:"Pesquisar"})})]})}let p=e=>{let a=new URLSearchParams;return e.nomeOperadorTransacao&&a.set("nomeOperadorTransacao",e.nomeOperadorTransacao),e.dataTransferenciaStart&&a.set("dataTransferenciaStart",l()(e.dataTransferenciaStart).format("yyyy-MM-DD")),e.dataTransferenciaEnd&&a.set("dataTransferenciaEnd",l()(e.dataTransferenciaEnd).format("yyyy-MM-DD")),a},x=async(e,a)=>{let t=p(e);t.set("page",String(a.page)),a.size&&t.set("size",String(a.size));let n=await fetch("/transaction/search?".concat(t));if(n.status>=200&&n.status<300){let e=await n.json();return e}return null},m=async e=>{let a=p(e),t=await fetch("/transaction/calculateBalance?".concat(a),{method:"POST"});if(t.status>=200&&t.status<300){let e=await t.json();return e}return null};function _(){return(0,n.jsx)("div",{className:s().spinner})}function j(){let[e,a]=(0,u.useState)(),[t,r]=(0,u.useState)(),[i,l]=(0,u.useState)(),[c,d]=(0,u.useState)(),[p,j]=(0,u.useState)(!1);(0,u.useEffect)(()=>{t&&(j(!0),e&&t[0]==e[0]||(a(t),m(t[0]).then(e=>{e&&d(e)})),x(t[0],t[1]).then(e=>{e&&l(e),j(!1)}))},[t]);let f=async e=>{let a={};e.date_start.length>0&&(a.dataTransferenciaStart=new Date(e.date_start)),e.date_end.length>0&&(a.dataTransferenciaEnd=new Date(e.date_end)),e.op_name.length>0&&(a.nomeOperadorTransacao=e.op_name),r([a,{page:0,size:5}])};return(0,n.jsxs)("main",{className:s().main,children:[(0,n.jsxs)("header",{className:s().header,children:[(0,n.jsx)("h1",{children:"Transfer\xeancias"}),(0,n.jsx)("img",{className:s().headerImg,alt:"Money!",src:"/money.gif"}),(0,n.jsx)("br",{}),(0,n.jsx)(h,{onSubmit:f})]}),(0,n.jsx)("div",{className:s().verticalSpace}),p&&(0,n.jsx)(_,{}),(!p||i)&&(0,n.jsx)(o,{onPageChange:(e,a)=>{t&&r([t[0],{page:e,size:a}])},data:i,balance:c})]})}},1305:function(e){e.exports={main:"page_main__GlU4n",header:"page_header__kVzhN",verticalSpace:"page_verticalSpace__2Is3r",inputBox:"page_inputBox__xlkxN",row:"page_row__xP1Vd",resultsTable:"page_resultsTable__7rutG",table:"page_table__71QjM",formSubmitButton:"page_formSubmitButton__kSnAk",headerImg:"page_headerImg__qsEfC",spinner:"page_spinner__1WnEQ",spin:"page_spin__W_8_q"}},3177:function(e,a,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=t(6006),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,a,t){var n,s={},d=null,o=null;for(n in void 0!==t&&(d=""+t),void 0!==a.key&&(d=""+a.key),void 0!==a.ref&&(o=a.ref),a)i.call(a,n)&&!c.hasOwnProperty(n)&&(s[n]=a[n]);if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===s[n]&&(s[n]=a[n]);return{$$typeof:r,type:e,key:d,ref:o,props:s,_owner:l.current}}a.Fragment=s,a.jsx=d,a.jsxs=d},9268:function(e,a,t){"use strict";e.exports=t(3177)}},function(e){e.O(0,[550,253,698,744],function(){return e(e.s=3627)}),_N_E=e.O()}]);